[gd_scene load_steps=17 format=3 uid="uid://ct0kak7yufm38"]

[ext_resource type="PackedScene" uid="uid://crxydjrkbrxsk" path="res://character/main_char.tscn" id="1_7n61o"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2d.gd" id="2_hannj"]
[ext_resource type="Texture2D" uid="uid://biqvgiah3aybr" path="res://backgrounds/Dark Forest/Background layers/Layer_0010_1.png" id="2_hkr7s"]
[ext_resource type="PackedScene" uid="uid://mpd77kh13ptd" path="res://objects/square.tscn" id="3_af1c0"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="3_t3pur"]
[ext_resource type="PackedScene" uid="uid://vkr8gkmbkd1j" path="res://objects/triangle.tscn" id="4_ga365"]
[ext_resource type="PackedScene" uid="uid://bp44e56avxafr" path="res://objects/box_16x_48.tscn" id="5_38m6v"]
[ext_resource type="PackedScene" uid="uid://dcthmq51mneco" path="res://objects/box_32x_48.tscn" id="6_8ikge"]
[ext_resource type="PackedScene" uid="uid://c8uqnjraa50b2" path="res://objects/bridge.tscn" id="7_ufyi3"]
[ext_resource type="PackedScene" uid="uid://7ql051xrmu81" path="res://character/dog.tscn" id="8_v1gxl"]
[ext_resource type="Script" path="res://levels/camera_manager.gd" id="11_w8kwl"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_i5y6y"]
size = Vector2(2232, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_b6t40"]
size = Vector2(20, 253)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_srcud"]
size = Vector2(14.5, 220)

[sub_resource type="Resource" id="Resource_makmb"]
script = ExtResource("3_t3pur")
duration = 1.0
transition = 2
ease = 2

[sub_resource type="Resource" id="Resource_svvrh"]
script = ExtResource("3_t3pur")
duration = 1.0
transition = 0
ease = 2

[node name="Test_Area 2" type="Node2D"]

[node name="player_char" parent="." instance=ExtResource("1_7n61o")]
z_index = 1
position = Vector2(328, 432)

[node name="Background" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(-544, 80)
texture = ExtResource("2_hkr7s")

[node name="Background2" type="Sprite2D" parent="."]
position = Vector2(384, 80)
texture = ExtResource("2_hkr7s")

[node name="Background3" type="Sprite2D" parent="."]
position = Vector2(1312, 80)
texture = ExtResource("2_hkr7s")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
collision_mask = 3

[node name="floor" type="Polygon2D" parent="StaticBody2D"]
position = Vector2(-888, 0)
scale = Vector2(1.5, 1)
polygon = PackedVector2Array(-80, 448, 37.3333, 448, 80, 416, 122.667, 416, 165.821, 448, 208, 448, 250.667, 440, 293.555, 448, 1776, 448, 1776, 480, -80, 480)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(660, 464)
shape = SubResource("RectangleShape2D_i5y6y")
one_way_collision_margin = 128.0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-449, 448, -512, 440, -576, 448, -639, 448, -704, 416, -768, 416, -832, 448, -1008, 448, -1008, 480, -451, 480, -451, 480)

[node name="square" parent="." instance=ExtResource("3_af1c0")]
position = Vector2(1272, 32)

[node name="square2" parent="." instance=ExtResource("3_af1c0")]
position = Vector2(1240, 32)

[node name="square3" parent="." instance=ExtResource("3_af1c0")]
position = Vector2(1240, 16)

[node name="square4" parent="." instance=ExtResource("3_af1c0")]
position = Vector2(1272, 16)

[node name="triangle" parent="." instance=ExtResource("4_ga365")]
position = Vector2(1011, 991)
rotation = -4.73508

[node name="triangle2" parent="." instance=ExtResource("4_ga365")]
position = Vector2(1239, -6)

[node name="triangle3" parent="." instance=ExtResource("4_ga365")]
position = Vector2(1247, -27)

[node name="box_16x48" parent="." instance=ExtResource("5_38m6v")]
position = Vector2(616, 432)

[node name="box_32x48" parent="." instance=ExtResource("6_8ikge")]
position = Vector2(700, 416)

[node name="box_32x49" parent="." instance=ExtResource("6_8ikge")]
position = Vector2(748, 416)

[node name="box_32x50" parent="." instance=ExtResource("6_8ikge")]
position = Vector2(796, 384)

[node name="box_32x51" parent="." instance=ExtResource("6_8ikge")]
position = Vector2(796, 416)

[node name="box_32x52" parent="." instance=ExtResource("6_8ikge")]
position = Vector2(910, 416)

[node name="box_32x53" parent="." instance=ExtResource("6_8ikge")]
position = Vector2(916, 384)

[node name="box_32x55" parent="." instance=ExtResource("6_8ikge")]
position = Vector2(390, 416)

[node name="box_32x54" parent="." instance=ExtResource("6_8ikge")]
position = Vector2(958, 416)

[node name="box_32x56" parent="." instance=ExtResource("6_8ikge")]
position = Vector2(390, 384)

[node name="Bridge" parent="." instance=ExtResource("7_ufyi3")]
position = Vector2(832, 337)

[node name="Dog" parent="." instance=ExtResource("8_v1gxl")]
position = Vector2(270, 433)

[node name="CameraManager" type="Node" parent="." node_paths=PackedStringArray("Camera_Zone0", "Camera_Zone1", "Camera_Zone2")]
script = ExtResource("11_w8kwl")
Camera_Zone0 = NodePath("CameraNodes/zone0-1/PhantomCamera2D")
Camera_Zone1 = NodePath("CameraNodes/PhantomCamera2D")
Camera_Zone2 = NodePath("CameraNodes/PhantomCamera2D")

[node name="CameraNodes" type="StaticBody2D" parent="CameraManager"]

[node name="zone01-0" type="Area2D" parent="CameraManager/CameraNodes"]
position = Vector2(0, 402)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CameraManager/CameraNodes/zone01-0"]
position = Vector2(130, -82)
shape = SubResource("RectangleShape2D_b6t40")

[node name="zone0-1" type="Area2D" parent="CameraManager/CameraNodes"]
position = Vector2(154, 257)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CameraManager/CameraNodes/zone0-1"]
position = Vector2(255.75, 15)
shape = SubResource("RectangleShape2D_srcud")

[node name="PhantomCamera2D" type="Node2D" parent="CameraManager/CameraNodes/zone0-1"]
position = Vector2(115, 94)
script = ExtResource("2_hannj")
zoom = Vector2(2, 2)
tween_resource = SubResource("Resource_makmb")

[node name="PhantomCamera2D" type="Node2D" parent="CameraManager/CameraNodes" node_paths=PackedStringArray("follow_target")]
position = Vector2(328, 382)
script = ExtResource("2_hannj")
follow_mode = 5
follow_target = NodePath("../../../player_char")
zoom = Vector2(3, 3)
tween_resource = SubResource("Resource_svvrh")
follow_offset = Vector2(0, -50)
follow_damping = true
dead_zone_width = 0.25
dead_zone_height = 0.3
show_viewfinder_in_play = true

[connection signal="body_entered" from="CameraManager/CameraNodes/zone01-0" to="CameraManager" method="_on_zone_010_body_entered"]
[connection signal="body_entered" from="CameraManager/CameraNodes/zone0-1" to="CameraManager" method="_on_zone_01_body_entered"]
